var companyInfo=null;$(document).ready(function(){$("#linkedin-add-button").hide();$("#linkedin-progress").hide()});function initLinkedIn(){$("#linkedin-dialog")[0].open();$("#linkedin-add-button").hide()}function processLinkedIn(){var b=$("#linkedin-url");var a=b.val();if(a.length===0){$("label").css("color","red");b.attr("label","Enter your company's LinkedIn username")}else{$("#linkedin-progress").show();$("#linkedin-add-button").hide();openLinkedIn(a)}}function openLinkedIn(a){$.ajax({type:"POST",dataType:"json",data:{name:a},url:"/ajax/linkedin-scraper",success:function(c){try{companyInfo=JSON.parse(c.data)}catch(b){console.error(b)}if(companyInfo==null){handleToast(2)}else{if(companyInfo.name.length===0&&companyInfo.description.length===0&&companyInfo.legacyLogo.length===0&&companyInfo.heroImage.length===0){handleToast(1)}else{handleToast(0)}}},error:function(d,b,c){console.log(c)}})}function cancelLinkedIn(){$("label").css("color","");$("#linkedin-progress").hide();$("#linkedin-url").val("");$("#linkedin-add-button").hide()}function addData(){$("#linkedin-cancel-button").trigger("click");$("#toast").hide();addName();addDescription();addImages()}function addName(){var b=$("#company").children()[0];var d=$(b).children()[2];var a=$(d).children()[0];var c=$(a).children()[1];$(d).addClass("label-is-floating");$(c).val(companyInfo.name);$(c).click(function(){$(d).addClass("label-is-floating")})}function addDescription(){var b=$("paper-textarea")[0];var c=$(b).children()[0];var a=$(c).children()[2];var d=$("#textarea")[0];$(a).addClass("label-is-floating");$(d).val(companyInfo.description);$(d).click(function(){$(a).addClass("label-is-floating")});$(document).click(function(){if($(d).val().length!==0){$(a).addClass("label-is-floating")}})}function addImages(){var a=["legacyLogo","heroImage"];var b=null;for(var d=0;d<a.length;d++){if(companyInfo[a[d]].length>0){var c="https://media.licdn.com/media/"+companyInfo[a[d]];b=$('<img class="recruiting-token-image" id="'+a[d]+'">');$(b).attr("src",c);b.data("file",c);b.data("file").name=a[d];b.data("saved",false);createThumbnail(b,"company-image-container")}}}function handleToast(a){var b="";switch(a){case 0:b="LinkedIn company and information found";$("#linkedin-add-button").show();break;case 1:b="LinkedIn company found but no information found";break;case 2:b="LinkedIn company not found";break;default:break}$("#toast").attr("text",b);$("#linkedin-progress").hide()}function resetToast(){$("#toast").attr("text","Searching for LinkedIn company")};